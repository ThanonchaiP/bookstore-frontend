import{r as y,j as e}from"./index-eb84028e.js";import{u as $,p as n}from"./useTranslation-ad94cc8a.js";import{L as h}from"./index-4ca9e7fe.js";import{u as k,b as C,e as w,h as A,i as I,j as T}from"./configureStore-ecfb3473.js";import{f as g}from"./favourite-icon-36471d21.js";const L="_price_nosgr_92",s={"product-card":"_product-card_nosgr_1","product-card__name":"_product-card__name_nosgr_16","product-card__author":"_product-card__author_nosgr_37","product-card__image":"_product-card__image_nosgr_53","m-0":"_m-0_nosgr_75","favorite-icon":"_favorite-icon_nosgr_79","favorite-active":"_favorite-active_nosgr_88",price:L,"btn-add":"_btn-add_nosgr_103","list-wrapper":"_list-wrapper_nosgr_123","list-name":"_list-name_nosgr_127","list-action":"_list-action_nosgr_132"};function P({data:j,className:d="",display:v="column"}){const{t}=$(),i=k(),{favorites:N}=C(a=>a.favorite),{id:r,name:c,author:l,category:m,price:p,image:u,publisher:b}=j,o=N.find(a=>a.book.id===r),_=()=>localStorage.getItem("user")?!0:(i(T(!0)),!1),x=a=>{a.preventDefault(),_()&&i(w({bookId:r,quantity:1}))},f=async a=>{a.preventDefault(),_()&&i(o?A({favoriteId:o.id}):I({bookId:r}))};return e.jsx("div",{className:n(s["product-card"],{[d]:d}),children:v==="column"?e.jsxs(h,{to:`/product-detail/${r}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-book text-gray-500"}),e.jsx("p",{className:"text-sm text-gray-500 font-semibold",children:m.name})]}),e.jsx("img",{className:n(s["favorite-icon"],{[s["favorite-active"]]:o}),src:g,alt:"favourite-icon",width:24,height:24,onClick:f})]}),e.jsx("div",{className:s["product-card__image"],children:e.jsx("img",{src:u,alt:c,crossOrigin:"anonymous",loading:"lazy"})}),e.jsx("p",{className:s["product-card__name"],children:c}),e.jsx("p",{className:s["product-card__author"],children:`${t("author")} : ${l.name}`}),e.jsx("div",{className:"flex items-center gap-4 mb-4 sm:mb-6",children:e.jsxs("p",{className:`flex items-center gap-2 ${s.price}`,children:["฿ ",p]})}),e.jsx("button",{type:"button",className:s["btn-add"],onClick:x,children:t("addToCart")})]}):e.jsx(h,{to:`/product-detail/${r}`,children:e.jsxs("div",{className:s["list-wrapper"],children:[e.jsx("div",{className:`${s["product-card__image"]} ${s["m-0"]}`,children:e.jsx("img",{src:u,alt:c,crossOrigin:"anonymous",loading:"lazy"})}),e.jsxs("div",{className:"pr-4 ml-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-book text-gray-500"}),e.jsx("p",{className:"text-sm text-gray-500 font-semibold",children:m.name})]}),e.jsx("img",{className:n(s["favorite-icon"],{[s["favorite-active"]]:o}),src:g,alt:"favourite-icon",width:24,height:24,onClick:f})]}),e.jsx("p",{className:`${s["list-name"]}`,children:c}),e.jsx("p",{children:`${t("author")} : ${l.name}`}),e.jsx("p",{className:"mt-2",children:`${t("publisher")} : ${b.name}`})]}),e.jsxs("div",{className:s["list-action"],children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("p",{className:"text-lg font-bold",children:"ราคา"}),e.jsxs("p",{className:`flex items-center gap-2 ${s.price}`,children:["฿ ",p]})]}),e.jsx("button",{type:"button",className:s["btn-add"],onClick:x,children:t("addToCart")}),e.jsx("p",{className:"mt-4 text-center",children:t("readMore")})]})]})})})}const S=y.memo(P);export{S as P};

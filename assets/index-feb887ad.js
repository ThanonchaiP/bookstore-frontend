import{u as h,j as s}from"./index-442b5a61.js";import{c as g,a as o,b as j,u as N,F as t,o as P}from"./index-7b2945eb.js";import{Q as n}from"./react-toastify.esm-e12a846b.js";import{R as y,C as q,a as C}from"./user.service-911d9fa7.js";import{u as v}from"./useTranslation-700709b5.js";const $=()=>{var d,m,i;const{t:e}=v(),l=h(),u=g().shape({password:o().min(6).required(e("errorMessage.required.password")),newPassword:o().min(6).required(e("errorMessage.required.password")),confirmNewPassword:o().min(6).required(e("errorMessage.required.confirmPassword")).oneOf([j("newPassword"),null],"Please make sure your new password match.")}),{register:r,handleSubmit:c,reset:p,formState:{errors:a,isSubmitting:w}}=N({resolver:P(u)}),b=async f=>{try{await C(f),p(),n.success("Your profile has been updated successfully!")}catch(x){n.error(x.response.data.message)}};return s.jsxs("div",{className:"rounded-md md:shadow-lg h-full md:p-4",children:[s.jsx("h1",{className:"text-lg font-medium mb-8",children:"เปลี่ยนรหัสผ่าน"}),s.jsx(y,{children:s.jsx(q,{span:24,md:12,children:s.jsxs("form",{onSubmit:c(b),children:[s.jsx(t,{label:"รหัสผ่านปัจจุบัน",required:!0,type:"password",labelClassName:"text-base",...r("password"),error:(d=a.password)==null?void 0:d.message}),s.jsx(t,{label:"รหัสผ่านใหม่",required:!0,type:"password",labelClassName:"text-base",...r("newPassword"),error:(m=a.newPassword)==null?void 0:m.message}),s.jsx(t,{label:"พิมพ์รหัสผ่านใหม่อีกครั้ง",required:!0,type:"password",labelClassName:"text-base",...r("confirmNewPassword"),error:(i=a.confirmNewPassword)==null?void 0:i.message}),s.jsxs("div",{className:"flex gap-4 mt-8 mb-12",children:[s.jsx("button",{type:"submit",className:"btn-primary",disabled:w,children:"ยืนยันการแก้ไข"}),s.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>l("/user/profile"),children:"ยกเลิก"})]})]})})})]})};export{$ as default};

import{n as x,r as e,j as a}from"./index-eb84028e.js";import{u as h}from"./index-4ca9e7fe.js";import{b as j,o as P,d as S}from"./configureStore-ecfb3473.js";import{P as C}from"./index-a398ceba.js";import{P as b}from"./index-d0764cd5.js";import{S as N}from"./index-3702cd64.js";import"./index-7f3b26ed.js";import"./useTranslation-ad94cc8a.js";import"./ConfirmDialog-246d4833.js";import"./react-toastify.esm-b4929cd0.js";import"./user.service-353ea3b1.js";import"./index-67567b47.js";import"./auth.service-10d56dee.js";import"./favourite-icon-36471d21.js";const v="_category_tpf7g_1",D="_category__header_tpf7g_9",i={category:v,category__header:D,"grid-container":"_grid-container_tpf7g_17"},J=()=>{const{id:c}=x();let[d,p]=h();const n=d.get("page")||"",{sort:m}=j(P),[r,l]=e.useState(),[s,u]=e.useState({page:n?+n:1,limit:15}),[y,_]=e.useState({}),f=e.useCallback(t=>{p({page:t.toString()}),u(o=>({...o,page:t}))},[]);return e.useEffect(()=>{(async()=>{const o={...s,sort:m},g=await S(c,o);l(g.data),_(g.meta)})()},[c,m,s]),a.jsx("div",{className:i.category,children:r&&r.category&&a.jsxs(a.Fragment,{children:[a.jsx("h1",{className:i.category__header,children:r.category.name}),a.jsx("div",{className:"flex justify-end mt-3 mb-6",children:a.jsx(N,{disableDisplayIcon:!0})}),a.jsx("div",{className:`grid grid-cols-2 gap-x-4 gap-y-9 sm:grid-cols-3 lg:grid-cols-4 ${i["grid-container"]}`,children:r.book.map(t=>a.jsx(b,{data:t},t.id))}),a.jsx("div",{className:"flex justify-end my-6",children:a.jsx(C,{currentPage:s.page||1,pageSize:s.limit,totalCount:y.itemCount||0,onPageChange:f})})]})})};export{J as default};

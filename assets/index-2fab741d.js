import{r as g,j as r}from"./index-eb84028e.js";import{c as k,a as o,b as v,u as S,F as n,o as C}from"./index-67567b47.js";import{L as P}from"./index-4ca9e7fe.js";import{M as I,s as D}from"./auth.service-10d56dee.js";import{u as w}from"./useTranslation-ad94cc8a.js";import"./ConfirmDialog-246d4833.js";const E="/bookstore-frontend/assets/check-e4a86f6b.png",F="/bookstore-frontend/assets/error-27ab5595.png",U=({open:e,title:t,message:i,variant:c="success",onClose:s})=>{const{t:l}=w();return r.jsxs(I,{open:e,width:400,onCancel:s,footer:null,children:[r.jsx("img",{className:"mx-auto mt-4",src:c==="success"?E:F,alt:"dialog icon",width:90,loading:"lazy"}),r.jsx("h1",{className:"text-3xl text-center font-medium mt-6",children:t}),r.jsxs("div",{className:"sm:px-8",children:[r.jsx("p",{className:"text-center mt-3 text-lg font-medium text-gray-400",children:i}),r.jsx("button",{className:"w-full bg-[#554994] h-10 rounded-md font-bold text-white mt-6",onClick:s,children:l("ok").toUpperCase()})]})]})},$=g.memo(U),L="_register_1xwjm_1",R="_register__container_1xwjm_4",z="_content_1xwjm_12",m={register:L,register__container:R,content:z,"btn-submit":"_btn-submit_1xwjm_18"},J=()=>{var p,x,b,h,f,j;const{t:e}=w(),[t,i]=g.useState({open:!1,variant:"success",title:"Success!",message:"Congratulations, your account has been successfully created."}),c=k().shape({firstname:o().required(e("errorMessage.required.name")),lastname:o().required(e("errorMessage.required.surname")),phone:o().min(9).required(e("errorMessage.required.phone")),email:o().email(e("errorMessage.formInvalid.email")).required(e("errorMessage.required.email")),password:o().min(6).required(e("errorMessage.required.password")),confirmPassword:o().min(6).required(e("errorMessage.required.confirmPassword")).oneOf([v("password"),null],"Please make sure your password match.")}),{register:s,handleSubmit:l,reset:_,formState:{errors:a,isSubmitting:q}}=S({resolver:C(c)}),N=g.useCallback(()=>i(u=>({...u,open:!1})),[]),y=async u=>{try{await D(u),i(d=>({...d,open:!0})),_()}catch(d){i(M=>({...M,open:!0,title:"Error!",variant:"error",message:d.response.data.message}))}};return r.jsxs("div",{className:m.register,children:[r.jsxs("div",{className:m.register__container,children:[r.jsx("h1",{className:"text-center text-2xl font-bold mb-4",children:e("register.createAccount")}),r.jsxs("form",{className:m.content,onSubmit:l(y),children:[r.jsx(n,{label:e("input.name"),required:!0,...s("firstname"),error:(p=a.firstname)==null?void 0:p.message}),r.jsx(n,{label:e("input.surname"),required:!0,...s("lastname"),error:(x=a.lastname)==null?void 0:x.message}),r.jsx(n,{label:e("input.phoneNumber"),required:!0,...s("phone"),error:(b=a.phone)==null?void 0:b.message}),r.jsx(n,{label:e("input.email"),required:!0,...s("email"),error:(h=a.email)==null?void 0:h.message}),r.jsx(n,{label:e("input.password"),type:"password",required:!0,...s("password"),error:(f=a.password)==null?void 0:f.message}),r.jsx(n,{label:e("input.confirmPassword"),type:"password",required:!0,...s("confirmPassword"),error:(j=a.confirmPassword)==null?void 0:j.message}),r.jsx("button",{disabled:q,className:m["btn-submit"],type:"submit",children:e("register.signUp")}),r.jsxs("p",{className:"text-sm mt-2",children:[e("register.alreadyMember"),"?",r.jsx(P,{to:"/login",className:"text-blue-400 mx-2",children:e("register.login")}),e("register.here")]})]})]}),r.jsx($,{open:t.open,title:t.title,message:t.message,onClose:N,variant:t.variant})]})};export{J as default};

import{n as x,r as e,j as a}from"./index-442b5a61.js";import{u as h}from"./index-13305ef7.js";import{b as j,o as P,d as S}from"./configureStore-2227f039.js";import{P as C}from"./index-d3fbb51c.js";import{P as b}from"./index-25b2881d.js";import{S as N}from"./index-1de2a7b1.js";import"./index-94e514cc.js";import"./useTranslation-700709b5.js";import"./ConfirmDialog-42d31d00.js";import"./react-toastify.esm-e12a846b.js";import"./user.service-911d9fa7.js";import"./index-7b2945eb.js";import"./auth.service-ac0dcb3b.js";import"./favourite-icon-36471d21.js";const v="_category_tpf7g_1",D="_category__header_tpf7g_9",i={category:v,category__header:D,"grid-container":"_grid-container_tpf7g_17"},J=()=>{const{id:c}=x();let[d,p]=h();const n=d.get("page")||"",{sort:m}=j(P),[r,l]=e.useState(),[s,u]=e.useState({page:n?+n:1,limit:15}),[y,_]=e.useState({}),f=e.useCallback(t=>{p({page:t.toString()}),u(o=>({...o,page:t}))},[]);return e.useEffect(()=>{(async()=>{const o={...s,sort:m},g=await S(c,o);l(g.data),_(g.meta)})()},[c,m,s]),a.jsx("div",{className:i.category,children:r&&r.category&&a.jsxs(a.Fragment,{children:[a.jsx("h1",{className:i.category__header,children:r.category.name}),a.jsx("div",{className:"flex justify-end mt-3 mb-6",children:a.jsx(N,{disableDisplayIcon:!0})}),a.jsx("div",{className:`grid grid-cols-2 gap-x-4 gap-y-9 sm:grid-cols-3 lg:grid-cols-4 ${i["grid-container"]}`,children:r.book.map(t=>a.jsx(b,{data:t},t.id))}),a.jsx("div",{className:"flex justify-end my-6",children:a.jsx(C,{currentPage:s.page||1,pageSize:s.limit,totalCount:y.itemCount||0,onPageChange:f})})]})})};export{J as default};
